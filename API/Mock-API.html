
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>get/post/put/patch/delete/all() Â· mockyeah</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Ryan Ricard">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Mock-API.html" />
    
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Getting-Started.html">
            
                <a href="../Getting-Started.html">
            
                    
                    Getting Started
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Getting-Started.html">
            
                <a href="../Getting-Started.html#install">
            
                    
                    Install
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Getting-Started.html">
            
                <a href="../Getting-Started.html#introductory-tutorial">
            
                    
                    Introductory tutorial
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../Getting-Started.html">
            
                <a href="../Getting-Started.html#testing-with-mockyeah">
            
                    
                    Testing with mockyeah
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Configuration.html">
            
                <a href="../Configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../Configuration.html">
            
                <a href="../Configuration.html#default-configuration">
            
                    
                    Defaults
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../Configuration.html">
            
                <a href="../Configuration.html#options">
            
                    
                    Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../Configuration.html">
            
                <a href="../Configuration.html#https">
            
                    
                    HTTPS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" >
            
                <span>
            
                    
                    Mock API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.4.1.1" data-path="Mock-API.html">
            
                <a href="Mock-API.html">
            
                    
                    get/post/put/patch/delete/all()
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1.1.1" data-path="Mock-API.html">
            
                <a href="Mock-API.html#match">
            
                    
                    Request Match
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.1.2" data-path="Mock-API.html">
            
                <a href="Mock-API.html#options">
            
                    
                    Response Options
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.1.2" data-path="record.html">
            
                <a href="record.html">
            
                    
                    record()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.3" data-path="recordStop.html">
            
                <a href="recordStop.html">
            
                    
                    recordStop()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.4" data-path="play.html">
            
                <a href="play.html">
            
                    
                    play()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.5" data-path="reset.html">
            
                <a href="reset.html">
            
                    
                    reset()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.6" data-path="close.html">
            
                <a href="close.html">
            
                    
                    close()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.1.7" data-path="proxy.html">
            
                <a href="proxy.html">
            
                    
                    proxy()
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.2" >
            
                <span>
            
                    
                    Expectation API
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.2.1" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#expect">
            
                    
                    .expect()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.2" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#atLeast">
            
                    
                    .expect().atLeast()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.3" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#atMost">
            
                    
                    .expect().atMost()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.4" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#never">
            
                    
                    .expect().never()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.5" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#once">
            
                    
                    .expect().once()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.6" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#twice">
            
                    
                    .expect().twice()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.7" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#thrice">
            
                    
                    .expect().thrice()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.8" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#body">
            
                    
                    .expect().body()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.9" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#params">
            
                    
                    .expect().params()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.10" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#header">
            
                    
                    .expect().header()
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2.11" data-path="Expectation-API.html">
            
                <a href="Expectation-API.html#verify">
            
                    
                    .expect().verify()
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.3" >
            
                <span>
            
                    
                    Classes
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="Server.html">
            
                <a href="Server.html">
            
                    
                    Server
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../Snapshots/Overview.html">
            
                <a href="../Snapshots/Overview.html">
            
                    
                    Snapshots
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../Snapshots/Overview.html">
            
                <a href="../Snapshots/Overview.html#snapshots-overview">
            
                    
                    Snapshots Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../Snapshots/Overview.html">
            
                <a href="../Snapshots/Overview.html#ad-hoc-snapshots">
            
                    
                    Ad Hoc Snapshots
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../CLI/CLI.html">
            
                <a href="../CLI/CLI.html">
            
                    
                    CLI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <a target="_blank" href="https://github.com/mockyeah/mockyeah/tree/master/examples">
            
                    
                    Recipes & Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../Contributing.html">
            
                <a href="../Contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <a target="_blank" href="https://mockyeah.js.org/archive/0.16">
            
                    
                    v0.x docs
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >get/post/put/patch/delete/all()</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="mock-api">Mock API</h1>
<p><code>get/post/put/patch/delete/all(match, options)</code></p>
<p>Each method creates a mock service with a HTTP verb matching its respective method name.</p>
<h2 id="parameters">Parameters</h2>
<p><div id="match"></div></p>
<h3 id="match-request-match-string-or-object"><code>match</code> Request Match (<code>String</code> or <code>Object</code>)</h3>
<p>Specifies how to match requests to this mock.
In the simplest case, it can be a string specifying the <code>path</code> to match.
This can include query parameters as a shorthand for <code>query</code> below.
This fully supports all Express path matching options.</p>
<p>Examples:</p>
<pre><code class="lang-js">mockyeah.get(<span class="hljs-string">&apos;/say-hello&apos;</span>, { text: <span class="hljs-string">&apos;hello&apos;</span> });

mockyeah.get(<span class="hljs-string">&apos;/say-hello/:person&apos;</span>, { text: <span class="hljs-string">&apos;hello, person&apos;</span> });

mockyeah.get(<span class="hljs-string">&apos;/say-hello?to=someone&apos;</span>, { text: <span class="hljs-string">&apos;hello, someone&apos;</span> });

<span class="hljs-comment">// or regex path match:</span>
mockyeah.get(<span class="hljs-regexp">/say-[a-z]+/</span>, { text: <span class="hljs-string">&apos;something, someone&apos;</span> });
</code></pre>
<p>If you want the mock to match only for specific headers, query parameters, or request body,
or use some of the more advanced matching features like regular expressions or functions
in place of string matches, then you can use the object syntax.
All keys but <code>path</code> (also aliased as <code>url</code>) are optional.
Its structure is:</p>
<!-- prettier-ignore -->
<pre><code class="lang-js">{
  path?: MatchString,
  url?: MatchString,
  query?: {
    [name: string]: MatchString
  },
  headers?: {
    [name: string]: MatchString
  },
  body?: MatchBody,
  method?: Method
}
</code></pre>
<p>with types:</p>
<!-- prettier-ignore -->
<pre><code class="lang-js">type MatchString = string | <span class="hljs-built_in">RegExp</span> | (string) =&gt; boolean;

type MatchBody = {
  [key: string]: MatchBody | MatchString | mixed
};

type Method = <span class="hljs-string">&apos;get&apos;</span> | <span class="hljs-string">&apos;post&apos;</span> | <span class="hljs-string">&apos;put&apos;</span> | <span class="hljs-string">&apos;patch&apos;</span> | <span class="hljs-string">&apos;delete&apos;</span> | <span class="hljs-string">&apos;all&apos;</span>
</code></pre>
<p>If using query parameters in both the <code>path</code>/<code>url</code> and in a <code>query</code> object, then the key/value
pairs are merged, with the values in <code>query</code> taking precedence.</p>
<p>Body matching is currently only supported for JSON payloads.</p>
<p>Objects like <code>headers</code> and <code>body</code> can be partial, deep object matches - they do not need to match the entire set of headers or the entire body of the request.</p>
<p>If using <code>.all</code>, you may use <code>method</code> to match only a specific method anyway. Supports any casing. This may ease programmatic use, e.g., wiring up mocks from a declarative definition.</p>
<p>Examples:</p>
<pre><code class="lang-js">mockyeah.post(
  {
    path: <span class="hljs-string">&apos;/say-hello&apos;</span>,
    headers: {
      <span class="hljs-string">&apos;X-API-Key&apos;</span>: <span class="hljs-regexp">/[0-9A-F]{32}/i</span>
    },
    body: {
      to: <span class="hljs-string">&apos;friend&apos;</span>
    }
  },
  { text: <span class="hljs-string">&apos;hello, friend&apos;</span> }
);
</code></pre>
<pre><code class="lang-js">mockyeah.all(
  {
    path: <span class="hljs-string">&apos;/say-hello&apos;</span>,
    method: <span class="hljs-string">&apos;get&apos;</span>
  },
  { text: <span class="hljs-string">&apos;hello, friend&apos;</span> }
);
</code></pre>
<p><div id="options"></div></p>
<h3 id="options-response-options-object"><code>options</code> Response Options (<code>Object</code>)</h3>
<p>Response options informing mockyeah how to respond to matching requests. Supported options:</p>
<p><strong>One of the following options may be used per service:</strong></p>
<ul>
<li><code>filePath</code> (<code>String</code>; optional) - File with contents to include in response body. Assumes response Content-Type of file type.</li>
<li><p><code>fixture</code> (<code>String</code>; optional) - Fixture file with contents to include in response body. Assumes response Content-Type of file type. Default fixture file location is <code>./fixtures</code> in your project.</p>
</li>
<li><p><code>html</code> (<code>String|Function|Promise</code>; optional) - HTML to include in response body. Assumes response Content-Type of <code>text/html</code>.</p>
</li>
<li><code>json</code> (<code>Object|Function|Promise</code>; optional) - JSON to include in response body. Assumes response Content-Type of <code>application/json</code>.</li>
<li><code>raw</code> (<code>String|Function|Promise</code>; optional) - Text to include in response body. Content-Type is the default Express type if not specified in header.</li>
<li><code>text</code> (<code>String|Function|Promise</code>; optional) - Text to include in response body. Assumes response Content-Type of <code>text/plain</code>.</li>
</ul>
<p>For dynamic behavior, the noted methods above can also be defined as functions that return response body values.
For asynchronous behavior, they can be defined as promises that resolve with such values, or a functions that return such promises.
The functions will receive the Express request object as a first and only argument.</p>
<p>Examples:</p>
<pre><code class="lang-js">mockyeah.get(<span class="hljs-string">&apos;/service/exists&apos;</span>, { json: req =&gt; ({ hello: req.query.name }) });
</code></pre>
<pre><code class="lang-js">mockyeah.get(<span class="hljs-string">&apos;/service/exists&apos;</span>, { json: req =&gt; <span class="hljs-built_in">Promise</span>.resolve({ hello: req.query.name }) });
</code></pre>
<pre><code class="lang-js">mockyeah.get(<span class="hljs-string">&apos;/service/exists&apos;</span>, { json: <span class="hljs-built_in">Promise</span>.resolve({ hello: <span class="hljs-string">&apos;there&apos;</span> }) });
</code></pre>
<p><strong>Additional options:</strong></p>
<ul>
<li><code>headers</code> (<code>Object</code>; optional) - Header key value pairs to include in response.</li>
<li><code>latency</code> (<code>Number</code> in Milliseconds; optional) - Used to control the response timing of a response.</li>
<li><code>type</code> (<code>String</code>; optional) - Content-Type HTTP header to return with response. Proxies option to Express response method <code>res.type(type)</code>; more info here: <a href="http://expressjs.com/en/4x/api.html#res.type" target="_blank">http://expressjs.com/en/4x/api.html#res.type</a></li>
<li><code>status</code> (<code>String</code>; optional; default: <code>200</code>) - HTTP response status code.</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                
                <a href="Mock-API.html#match" class="navigation navigation-next navigation-unique" aria-label="Next page: Request Match">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"get/post/put/patch/delete/all()","level":"1.4.1.1","depth":3,"next":{"title":"Request Match","level":"1.4.1.1.1","depth":4,"anchor":"#match","path":"API/Mock-API.md","ref":"API/Mock-API.md#match","articles":[]},"previous":{"title":"Mock API","level":"1.4.1","depth":2,"ref":"","articles":[{"title":"get/post/put/patch/delete/all()","level":"1.4.1.1","depth":3,"path":"API/Mock-API.md","ref":"API/Mock-API.md","articles":[{"title":"Request Match","level":"1.4.1.1.1","depth":4,"anchor":"#match","path":"API/Mock-API.md","ref":"API/Mock-API.md#match","articles":[]},{"title":"Response Options","level":"1.4.1.1.2","depth":4,"anchor":"#options","path":"API/Mock-API.md","ref":"API/Mock-API.md#options","articles":[]}]},{"title":"record()","level":"1.4.1.2","depth":3,"path":"API/record.md","ref":"API/record.md","articles":[]},{"title":"recordStop()","level":"1.4.1.3","depth":3,"path":"API/recordStop.md","ref":"API/recordStop.md","articles":[]},{"title":"play()","level":"1.4.1.4","depth":3,"path":"API/play.md","ref":"API/play.md","articles":[]},{"title":"reset()","level":"1.4.1.5","depth":3,"path":"API/reset.md","ref":"API/reset.md","articles":[]},{"title":"close()","level":"1.4.1.6","depth":3,"path":"API/close.md","ref":"API/close.md","articles":[]},{"title":"proxy()","level":"1.4.1.7","depth":3,"path":"API/proxy.md","ref":"API/proxy.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["github","expandable-chapters"],"root":"book","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/mockyeah/mockyeah"},"expandable-chapters":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Ryan Ricard","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"mockyeah","gitbook":"*","description":"A powerful service mocking, recording, and playback utility."},"file":{"path":"API/Mock-API.md","mtime":"2018-11-15T05:11:08.143Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-11-15T05:11:15.120Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

